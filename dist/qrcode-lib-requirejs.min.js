"use strict";define("BitBuffer",[],function(){function t(t){this.__data=new Array,this.__bitsLeft=0}t.prototype.__masks=[0,1,3,7,15,31,63,127,255],t.prototype.append=function(t,_,e){var s,i;for(void 0==e&&(e=_),s=this.__data.length-1;_>0;)0==this.__bitsLeft&&(this.__data.push(0),this.__bitsLeft=8,s++),i=Math.min(_,this.__bitsLeft),this.__data[s]|=(t>>e-i&this.__masks[i])<<this.__bitsLeft-i,this.__bitsLeft-=i,_-=i,e-=i},t.prototype.getLength=function(){return 8*this.__data.length-this.__bitsLeft},t.prototype.getDataArray=function(){return this.__data}}),define("Segment",[],function(){function t(t){var _,e,s,i;if(this.__data=null,this.__charCountBits=null,this.__mode=null,!this.__alphaNumSet){for(this.__alphaNumSet={},s=0;10>s;s++)this.__alphaNumSet[48+s]=s;for(s=10;36>s;s++)this.__alphaNumSet[55+s]=s;this.__alphaNumSet[32]=36,this.__alphaNumSet[36]=37,this.__alphaNumSet[37]=38,this.__alphaNumSet[42]=39,this.__alphaNumSet[43]=40,this.__alphaNumSet[45]=41,this.__alphaNumSet[46]=42,this.__alphaNumSet[47]=43,this.__alphaNumSet[58]=44}for(this.__mode=0,i=!1,s=0;s<t.length;s++){if(_=t.charCodeAt(s),_>255){this.__mode=2,i=!0;break}2!=this.__mode&&(0==this.__mode&&_>=48&&57>=_||(this.__mode=_ in this.__alphaNumSet?1:2))}if(i)for(this.__data=[],e=null,s=0;s<t.length;s++)_=t.charCodeAt(s),null!=e?(_>=56320&&57344>_?(_=((1023&e)<<10|1023&_)+65536,this.__data.push(240|_>>18,128|_>>12&63,128|_>>6&63,128|63&_)):this.__data.push(239,191,189),e=null):128>_?this.__data.push(_):2048>_?this.__data.push(192|_>>6,128|63&_):55296>_||_>=57344?this.__data.push(224|_>>12,128|_>>6&63,128|63&_):56320>_?e=_:this.__data.push(239,191,189);else for(this.__data=Array(t.length),s=0;s<t.length;s++)this.__data[s]=t.charCodeAt(s);this.setVersion(1)}t.prototype.__alphaNumSet=null,t.prototype.__charCountBitsMap=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],t.prototype.setVersion=function(t){9>=t?this.__charCountBits=this.__charCountBitsMap[0][this.__mode]:26>=t?this.__charCountBits=this.__charCountBitsMap[1][this.__mode]:this.__charCountBits=this.__charCountBitsMap[2][this.__mode]},t.prototype.getBitStreamLength=function(){var t;if(0==this.__mode)switch(t=10*Math.floor(this.__data.length/3),this.__data.length%3){case 1:t+=4;break;case 2:t+=7}else 1==this.__mode?(t=11*(this.__data.length>>1),t+=6*(1&this.__data.length)):t=8*this.__data.length;return t+this.__charCountBits+4},t.prototype.encode=function(t){var _,e;switch(this.__mode){case 0:for(t.append(1,4),t.append(this.__data.length,this.__charCountBits),e=0,_=0;_<this.__data.length;_++)e=10*e+this.__data[_]-48,_%3==2&&(t.append(e,10),e=0);_%=3,0!=_&&t.append(e,1==_?4:7);break;case 1:for(t.append(2,4),t.append(this.__data.length,this.__charCountBits),e=0,_=0;_<this.__data.length;_++)e=45*e+this.__alphaNumSet[this.__data[_]],1&_&&(t.append(e,11),e=0);1&_&&t.append(e,6);break;case 2:for(t.append(4,4),t.append(this.__data.length,this.__charCountBits),_=0;_<this.__data.length;_++)t.append(this.__data[_],8)}}}),define("QRCode",["BitBuffer","Segment"],function(t,_){function e(t,_,e,s){var i,o;if(this.canvasElement=t,this.ctx=this.canvasElement.getContext("2d"),this.__ecLevel=0,this.__symbol=null,this.__symbolVersion=null,this.__symbolSize=null,this.__segments=new Array,_&&this.addSegment(_),s&&this.setECLevel(s),this.setScale(e||2),!this.__rs_exp_tbl){for(this.__rs_exp_tbl=new Array(512),this.__rs_log_tbl=new Array(256),this.__rs_exp_tbl[0]=1,this.__rs_log_tbl[1]=0,i=1,o=1;255>o;o++)i<<=1,256&i&&(i^=285),this.__rs_exp_tbl[o]=i,this.__rs_log_tbl[i]=o;for(o=255;512>o;o++)this.__rs_exp_tbl[o]=this.__rs_exp_tbl[o-255]}}e.prototype.__rs_exp_tbl=null,e.prototype.__rs_log_tbl=null,e.prototype.__codeProps=[[[16,10,1],[28,16,1],[44,26,1],[64,18,2],[86,24,2],[108,16,4],[124,18,4],[154,22,4],[182,22,5],[216,26,5],[254,30,5],[290,22,8],[334,22,9],[365,24,9],[415,24,10],[453,28,10],[507,28,11],[563,26,13],[627,26,14],[669,26,16],[714,26,17],[782,28,17],[860,28,18],[914,28,20],[1e3,28,21],[1062,28,23],[1128,28,25],[1193,28,26],[1267,28,28],[1373,28,29],[1455,28,31],[1541,28,33],[1631,28,35],[1725,28,37],[1812,28,38],[1914,28,40],[1992,28,43],[2102,28,45],[2216,28,47],[2334,28,49]],[[19,7,1],[34,10,1],[55,15,1],[80,20,1],[108,26,1],[136,18,2],[156,20,2],[194,24,2],[232,30,2],[274,18,4],[324,20,4],[370,24,4],[428,26,4],[461,30,4],[523,22,6],[589,24,6],[647,28,6],[721,30,6],[795,28,7],[861,28,8],[932,28,8],[1006,28,9],[1094,30,9],[1174,30,10],[1276,26,12],[1370,28,12],[1468,30,12],[1531,30,13],[1631,30,14],[1735,30,15],[1843,30,16],[1955,30,17],[2071,30,18],[2191,30,19],[2306,30,19],[2434,30,20],[2566,30,21],[2702,30,22],[2812,30,24],[2956,30,25]],[[9,17,1],[16,28,1],[26,22,2],[36,16,4],[46,22,4],[60,28,4],[66,26,5],[86,26,6],[100,24,8],[122,28,8],[140,24,11],[158,28,11],[180,22,16],[197,24,16],[223,24,18],[253,30,16],[283,28,19],[313,28,21],[341,26,25],[385,28,25],[406,30,25],[442,24,34],[464,30,30],[514,30,32],[538,30,35],[596,30,37],[628,30,40],[661,30,42],[701,30,45],[745,30,48],[793,30,51],[845,30,54],[901,30,57],[961,30,60],[986,30,63],[1054,30,66],[1096,30,70],[1142,30,74],[1222,30,77],[1276,30,81]],[[13,13,1],[22,22,1],[34,18,2],[48,26,2],[62,18,4],[76,24,4],[88,18,6],[110,22,6],[132,20,8],[154,24,8],[180,28,8],[206,26,10],[244,24,12],[261,20,16],[295,30,12],[325,24,17],[367,28,16],[397,28,18],[445,26,21],[485,30,20],[512,28,23],[568,30,23],[614,30,25],[664,30,27],[718,30,29],[754,28,34],[808,30,34],[871,30,35],[911,30,38],[985,30,40],[1033,30,43],[1115,30,45],[1171,30,48],[1231,30,51],[1286,30,53],[1354,30,56],[1426,30,59],[1502,30,62],[1582,30,65],[1666,30,68]]],e.prototype.__alignPatternPositions=[[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e.prototype.__maskFunctions=[function(t,_,e){return(_+e)%2?t:!t},function(t,_,e){return e%2?t:!t},function(t,_,e){return _%3?t:!t},function(t,_,e){return(_+e)%3?t:!t},function(t,_,e){return(Math.floor(e/2)+Math.floor(_/3))%2?t:!t},function(t,_,e){return _*e%2+_*e%3?t:!t},function(t,_,e){return(_*e%2+_*e%3)%2?t:!t},function(t,_,e){return((_+e)%2+_*e%3)%2?t:!t}],e.prototype.__penaltySequence=[1,0,1,1,1,0,1],e.prototype.addSegment=function(t){this.__segments.push(new _(t)),this.__symbol=null},e.prototype.clear=function(){this.__segments=new Array,this.__symbol=null},e.prototype.encode=function(t){this.clear(),this.addSegment(t),this.setCanvasSize(),this.draw(this.ctx)},e.prototype.setCanvasSize=function(){var t=this.getImageSize();this.canvasElement.width=this.canvasElement.height=t},e.prototype.setECLevel=function(t){switch(t){case"L":this.__ecLevel=1;break;case"M":this.__ecLevel=0;break;case"Q":this.__ecLevel=3;break;case"H":this.__ecLevel=2;break;default:throw new Error("Invalid error correction level value '"+t+"'. Valid values are 'L', 'M', 'Q' and 'H'.")}this.__symbol=null},e.prototype.getSymbolSize=function(){return this.__symbol||this.__encodeSymbol(),this.__symbolSize},e.prototype.getImageSize=function(t){return t=t||this.scale,t*(this.getSymbolSize()+8)},e.prototype.setScale=function(t){this.scale=t},e.prototype.draw=function(t,_){var e,s,i,o,h;for(void 0===_&&(_={}),_.scale=_.scale||this.scale,_.left=_.left||0,_.top=_.top||0,_.light=_.light||"#FFF",_.dark=_.dark||"#000",this.__symbol||this.__encodeSymbol(),s=this.getImageSize(_.scale),t.fillStyle=_.light,t.fillRect(_.left,_.top,s,s),t.fillStyle=_.dark,e=0,o=_.left+4*_.scale,h=_.top+4*_.scale,i=0;i<this.__symbolSize;i++)for(s=0;s<this.__symbolSize;s++)this.__symbol[e++]&&t.fillRect(o+s*_.scale,h+i*_.scale,_.scale,_.scale)},e.prototype.__encodeSymbol=function(){var _,e,s,i,o,h,l,r,a,n,m,y,p,f,c,b,u,S,d;for(i=1;40>=i;i++){for(o=0,_=0;_<this.__segments.length;_++)this.__segments[_].setVersion(i),o+=this.__segments[_].getBitStreamLength();if(r=8*this.__codeProps[this.__ecLevel][i-1][0],r>=o){a=this.__codeProps[this.__ecLevel][i-1][0],m=this.__codeProps[this.__ecLevel][i-1][1],y=this.__codeProps[this.__ecLevel][i-1][2];break}}if(i>40)throw new Error("The input data is too long to fit a single QR code symbol");for(this.__symbolVersion=i,this.__symbolSize=17+4*i,f=new t(r),_=0;_<this.__segments.length;_++)this.__segments[_].encode(f);for(f.getLength()+4<=r&&f.append(0,4),15&f.getLength()&&f.append(0,8-(15&f.getLength())),_=r-f.getLength();_>0;_-=16)f.append(60433,Math.min(_,16),16);for(u=Array(a+m*y),n=Math.floor(a/y),p=y-a%y,d=this.__rsCalculateGenerator(m),S=0,_=0;y>_;_++){for(b=p>_?0:1,c=this.__rsPolyMod(f.getDataArray().slice(S,S+n+b).concat(Array(m)),d),e=0;n>e;e++)u[_+e*y]=f.getDataArray()[S+e];for(b&&(u[_+e*y-p]=f.getDataArray()[S+e]),e=0;m>e;e++)u[a+_+e*y]=c[e];S+=n+b}for(h=-1,_=0;8>_;_++)l=this.__buildSymbol(u,_),e=this.__calculatePenaltyScore(l),(-1==h||h>e)&&(this.__symbol=l,s=_,h=e);this.__fillReservedAreas(this.__symbol,s)},e.prototype.__buildSymbol=function(t,_){var e,s,i,o,h,l,r,a,n;for(a=new Array(this.__symbolSize*this.__symbolSize),this.__createPattern(a,this.__finderPattern,0,0,7),this.__createPattern(a,this.__finderPattern,0,this.__symbolSize-7,7),this.__createPattern(a,this.__finderPattern,this.__symbolSize-7,0,7),e=0;8>e;e++)a[e+7*this.__symbolSize]=!1,a[7+e*this.__symbolSize]=!1,a[e+8*this.__symbolSize]=!1,a[8+e*this.__symbolSize]=!1,a[e+(this.__symbolSize-8)*this.__symbolSize]=!1,a[7+(this.__symbolSize-e-1)*this.__symbolSize]=!1,a[8+(this.__symbolSize-e-1)*this.__symbolSize]=!1,a[8*this.__symbolSize-e-1]=!1,a[(e+1)*this.__symbolSize-8]=!1,a[9*this.__symbolSize-e-1]=!1;if(this.__symbolVersion>=7)for(s=0;6>s;s++)for(e=this.__symbolSize-11;e<this.__symbolSize-8;e++)a[e+s*this.__symbolSize]=!1,a[e*this.__symbolSize+s]=!1;if(a[8+8*this.__symbolSize]=!1,a[8+(this.__symbolSize-8)*this.__symbolSize]=!0,this.__symbolVersion>=2)for(r=this.__alignPatternPositions[this.__symbolVersion-2],i=0;i<r.length;i++)for(o=0;o<r.length;o++)"undefined"==typeof a[r[o]*this.__symbolSize+r[i]]&&this.__createPattern(a,this.__alignmentPattern,r[i]-2,r[o]-2,5);for(e=8;e<this.__symbolSize-8;e++)a[6*this.__symbolSize+e]=0==(1&e),a[e*this.__symbolSize+6]=0==(1&e);for(n=this.__maskFunctions[_],h=128,i=o=this.__symbolSize-1,l=-1,e=0;;){if(s=i+o*this.__symbolSize,"undefined"==typeof a[s])if(a[s]=n(0!=(t[e]&h),i,o),h>1)h>>>=1;else{if(e++,e==t.length)break;h=128}if((1&i)==6>i?1:0)i--;else if(i++,o+=l,(0>o||o==this.__symbolSize)&&(l=-l,o+=l,i-=2-(6==i?1:0)),0>i)throw new Error("Internal error: too many data for a single QR code symbol.")}return a},e.prototype.__fillReservedAreas=function(t,_){var e,s,i;for(i=this.__ecLevel<<3|7&_,i=21522^this.__calculateSmallECCode(i,10,1335),e=0;8>e;e++)t[8+(e+(6>e?0:1))*this.__symbolSize]=0!=(1&i),t[8*this.__symbolSize+8-e-(2>e?0:1)]=0!=(128&i),e>0&&(t[8+(this.__symbolSize-8+e)*this.__symbolSize]=0!=(128&i)),t[9*this.__symbolSize-e-1]=0!=(1&i),i>>=1;if(this.__symbolVersion>=7)for(i=this.__calculateSmallECCode(this.__symbolVersion,12,7973),s=0;6>s;s++)for(e=this.__symbolSize-11;e<this.__symbolSize-8;e++)t[e+s*this.__symbolSize]=0!=(1&i),t[e*this.__symbolSize+s]=0!=(1&i),i>>=1},e.prototype.__finderPattern=function(t,_){return 0==t||6==t||0==_||6==_||1!=t&&5!=t&&1!=_&&5!=_},e.prototype.__alignmentPattern=function(t,_){return 0==t||4==t||0==_||4==_||2==t&&2==_},e.prototype.__createPattern=function(t,_,e,s,i){var o=s*this.__symbolSize+e;for(s=0;i>s;s++){for(e=0;i>e;e++)t[o++]=_(e,s);o+=this.__symbolSize-i}},e.prototype.__calculateSmallECCode=function(t,_,e){var s,i,o,h;for(s=t<<_,o=1<<_;s>=o;){for(i=e,h=o<<1;s>h;h<<=1)i<<=1;s^=i}return t<<_|s},e.prototype.__rsMul=function(t,_){return t&&_?this.__rs_exp_tbl[this.__rs_log_tbl[t]+this.__rs_log_tbl[_]]:0},e.prototype.__rsPolyMod=function(t,_){var e,s,i,o,h,l;for(e=t.slice(),l=_.length,h=t.length-l+1,i=0;h>i;i++)if(s=e[i])for(o=1;l>o;o++)e[i+o]^=this.__rsMul(_[o],s);return e.splice(-(l-1))},e.prototype.__rsCalculateGenerator=function(t){var _,e,s;for(_=Array(t+1),_[0]=1,e=0;t>e;e++)for(s=e;s>=0;s--)_[s+1]^=this.__rsMul(_[s],this.__rs_exp_tbl[e]);return _},e.prototype.__calculatePenaltyScore=function(t){var _,e,s,i,o,h,l,r,a;for(_=0,e=0;e<this.__symbolSize;e++){for(h=t[e*this.__symbolSize],o=(e+1)*this.__symbolSize,l=1,s=1+e*this.__symbolSize;o>s;s++)!h==!t[s]?l++:(l>=5&&(_+=l-2),l=1,h=t[s]);l>=5&&(_+=l-2)}for(o=this.__symbolSize*this.__symbolSize,e=0;e<this.__symbolSize;e++){for(h=t[e],l=1,s=e+this.__symbolSize;o>s;s+=this.__symbolSize)!h==!t[s]?l++:(l>=5&&(_+=l-2),l=1,h=t[s]);l>=5&&(_+=l-2)}for(s=1;s<this.__symbolSize;s++)for(e=1;e<this.__symbolSize;e++)l=e+s*this.__symbolSize,h=t[l],!h==!t[l-1]&&!h==!t[l-this.__symbolSize]&&!h==!t[l-this.__symbolSize-1]&&(_+=3);for(r=this.__penaltySequence,a=r.length,e=0;e<=this.__symbolSize-a;e++)for(s=0;s<this.__symbolSize;s++){for(l=e+s*this.__symbolSize,i=0;a>i&&!r[i]==!t[l+i];i++);for(i==a&&(!(e>=4)||t[l-1]||t[l-2]||t[l-3]||t[l-4]?e+a+4<this.__symbolSize&&(i=l+a,t[i]||t[i+1]||t[i+2]||t[i+3]||(_+=40)):_+=40),l=s+e*this.__symbolSize,i=0;a>i&&!r[i]==!t[l+i*this.__symbolSize];i++);i==a&&(!(e>=4)||t[l-this.__symbolSize]||t[l-2*this.__symbolSize]||t[l-3*this.__symbolSize]||t[l-4*this.__symbolSize]?e+a+4<this.__symbolSize&&(i=l+a*this.__symbolSize,t[i]||t[i+this.__symbolSize]||t[i+2*this.__symbolSize]||t[i+3*this.__symbolSize]||(_+=40)):_+=40)}for(l=0,a=this.__symbolSize*this.__symbolSize,e=0;a>e;e++)t[e]&&l++;return i=Math.floor(10*Math.abs(1-2*l/a)),_+=10*i}});